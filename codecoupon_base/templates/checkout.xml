<?xml version="1.0" encoding="UTF-8" ?>
<odoo>

    <!-- Add codecoupon form in cart total -->
    <template id="ccb_website_sale_cart" inherit_id="website_sale.cart">
        <xpath expr="//div[hasclass('o_website_sale_rightfit')]//div[hasclass('clearfix')]" position="before">
            <div class="row mb16">
                <div class="col-xs-12 col-sm-5 col-sm-push-7"
                     t-if="request.website.codecoupon_state and website_sale_order and website_sale_order.website_order_line">
                    <div class="ccb_wrap" t-if="website_sale_order.applied_coupon">
                        <h4>You have a coupon applied</h4>
                        <form method="post" id="ccb_to_remove">
                            <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                            <div class="input-group">
                               <input name="ccb_code" type="text" readonly="readonly" disable="disable"
                                      class="form-control" t-att-value="website_sale_order.applied_coupon.code"/>
                                <div class="input-group-btn">
                                    <button class="btn btn-danger">Remove</button>
                                </div>
                            </div>
                        </form>
                        <div class="ccb_message mt4">
                            <p class="bg-info">It is eliminated with some change in cart</p>
                        </div>
                    </div>
                    <div class="ccb_wrap" t-else="">
                        <h4>Have a discount coupon?</h4>
                        <p>Put it in this field and apply</p>
                        <form method="post" id="ccb_to_apply">
                            <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />
                            <div class="input-group">
                                <input name="ccb_code" class="form-control" type="text" placeholder="Coupon code"/>
                                <div class="input-group-btn">
                                    <button class="btn btn-success">Apply</button>
                                </div>
                            </div>
                        </form>
                        <div class="ccb_message mt4"/>
                    </div>
                </div>
            </div>
        </xpath>
    </template>

    <!-- Add load spinner block -->
    <template id="ccb_load_spinner" inherit_id="website.layout">
        <xpath expr="//div[@id='wrapwrap']" position="inside">
            <div class="wp" t-if="request.website.codecoupon_state">
                <div class="wp-ccb_load">
                    <div class="ccb_load">
                        <div class="ccb_load-spinner"/>
                    </div>
                </div>
            </div>
        </xpath>
    </template>

</odoo>