<?xml version="1.0" encoding="utf-8" ?>
<odoo>

    <!-- /BLOG page template (latest posts) -->
    <template id="wbb_website_blog_latest_blogs" inherit_id="website_blog.latest_blogs" name="Latest blogs and posts with access control">
        <xpath expr="//div[hasclass('col-md-4')]" position="before">
            <t t-set="access" t-value="website.access_to_blog(post.blog_id)"/>
        </xpath>
        <xpath expr="//div[hasclass('col-md-4')]" position="attributes">
            <attribute name="t-if">access</attribute>
        </xpath>
        <xpath expr="//t[@t-value='count+1']" position="attributes">
            <attribute name="t-if">access</attribute>
        </xpath>
    </template>

    <!-- /blog/BLOG-NAME-ID and /blog/blog-name-id/POST-NAME-ID pages template -->
    <template id="wbb_website_blog_index" inherit_id="website_blog.index" name="Blog/post wrap control access">
        <xpath expr="//div[@id='wrap']" position="before">
            <t t-set="access" t-value="website.access_to_blog(blog)"/>
        </xpath>
        <xpath expr="//div[@id='wrap']/t[1]" position="attributes">
            <attribute name="t-if">access</attribute>
        </xpath>
        <xpath expr="//div[@id='wrap']/t[1]" position="after">
            <div t-else="" class="container">
                <div class="col-md-12 text-center">
                    <div class="mt32 mb32">
                        <h2 class="mb32">You don't have access to this page</h2>
                        <div>
                            <a href="/" class="btn btn-warning btn-large">Start page</a>
                            <a href="/contactus" class="btn btn-primary">Contactus</a>
                        </div>
                    </div>
                </div>
            </div>
        </xpath>
    </template>

</odoo>